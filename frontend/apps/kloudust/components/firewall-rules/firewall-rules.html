<!--
/* 
 * (C) 2018 TekMonks. All rights reserved.
 * License: See enclosed license file.
 */
 -->

<style>
body{
    margin: 0; padding: 0;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
}

select, input {
    background-color: inherit;
    color: inherit;
    border: none;
    border-bottom: 1px solid;
    padding: 0.2em 0em 0.2em 0.5em;
    outline: none;
}

select option {
    background-color: white;
    color: black;
}

span#rulesrow {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    margin-bottom: 2em;
}

span#buttonspan {
    display: flex;
    min-width: 4em;
    justify-content: space-between;
    margin-left: 0.5em 
}
span.roundbutton {
    border: 1px solid black;
    width: 1.4em;
    height: 1.4em;
    border-radius: 1.4em;
    text-align: center;
    font-size: 1em;
}

{{#style}}{{{.}}}{{/style}}
</style>

<div id="rulecontainer">
{{#rules}}
<span id="rulesrow">
    <select name="direction" id="direction">
        <option value="in" {{#direction_in}}selected{{/direction_in}}>In</option>
        <option value="out" {{#direction_out}}selected{{/direction_out}}>Out</option>
    </select>

    <select name="allow" id="allow">
        <option value="true" {{#allow_true}}selected{{/allow_true}}>Allow</option>
        <option value="false" {{#allow_false}}selected{{/allow_false}}>Stop</option>
    </select>

    <select name="protocol" id="protocol">
        <option value="tcp" {{#protocol_tcp}}selected{{/protocol_tcp}}>TCP</option>
        <option value="udp" {{#protocol_udp}}selected{{/protocol_udp}}>UDP</option>
        <option value="all" {{#protocol_all}}selected{{/protocol_all}}>TCP + UDP</option>
    </select>

    <input id="ip" type="text" value="{{ip}}" placeholder="IP Address or *">
    <input id="port" type="text" value="{{port}}" placeholder="Ports or *">

    <span id="buttonspan">
        <span class="roundbutton" onclick="monkshu_env.components['firewall-rules'].addRow(this.parentNode.parentNode)">+</span>
        <span class="roundbutton" onclick="monkshu_env.components['firewall-rules'].removeRow(this.parentNode.parentNode)">-</span>
    </span>
</span>
{{/rules}}
</div>

<template id="rulesrowtemplate">
<span id="rulesrow">
    <select name="direction" id="direction">
        <option value="in">In</option>
        <option value="out">Out</option>
    </select>

    <select name="allow" id="allow">
        <option value="true">Allow</option>
        <option value="false">Stop</option>
    </select>

    <select name="protocol" id="protocol">
        <option value="tcp">TCP</option>
        <option value="udp">UDP</option>
        <option value="all">TCP + UDP</option>
    </select>

    <input id="ip" type="text" placeholder="IP Address or *">
    <input id="port" type="text" placeholder="Ports or *">

    <span id="buttonspan">
        <span class="roundbutton" onclick="monkshu_env.components['firewall-rules'].addRow(this.parentNode.parentNode)">+</span> 
        <span class="roundbutton" onclick="monkshu_env.components['firewall-rules'].removeRow(this.parentNode.parentNode)">-</span>
    </span>
</span>
</template>
